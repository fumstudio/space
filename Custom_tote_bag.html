<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>About Us</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<link rel="stylesheet" href="css/style1.css">
   <link rel="stylesheet" href="css/catalog.css">
   
   <link rel= "Shortcut icon" type="x-icon" href= "https://i.postimg.cc/XqrhcVpD/20240702-095704.png "> 


  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9RJSDSSVMM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9RJSDSSVMM');
</script>
  
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MNW5B4W9');</script>
<!-- End Google Tag Manager -->

 
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script>
        $(function(){
            $("#navbar").load("navbar.html");
        });
    </script>
            <script>
        $(function(){
            $("#Whatsapp_button").load("whatsApp_button.html");
        });
    </script>
        <script>
        $(function(){
            $("#footer").load("footer.html");
        });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var button = document.getElementById('selectDesignButton');
    if (button) {
      button.click();
    }
  });
</script>

    </script>
    <style>
    .main-nav {
     
    }
        /* Basic styling */
  #loadingScreen, #secondLoadingScreen {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      font-size: 24px;
      justify-content: center;
      align-items: center;
      z-index: 1000;


}

        #deleteBtn {
            display: none;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }
        #uploadButton {
            background-color: #6DBFE5;
            color: white;
            border: 2px solid white;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        #uploadedImageContainer {
            display: none;
            margin-top: 20px;
        }
        #uploadedImage {
            max-width: 100%;
            height: auto;
        }
        .custom-file-upload {
            border: 1px solid #ccc;
            display: inline-block;
            padding: 6px 12px;
            cursor: pointer;
            background-color: #f9f9f9;
            margin: 10px;
        }
        .send-button {
            display: none;
            margin: 10px;
            padding: 6px 12px;
            border: 1px solid #ccc;
            background-color: #e0e0e0;
            cursor: pointer;
        }
        /* Design modal styles */
        #designModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        #designModalContent {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            position: relative;
            width: 80%;
            max-width: 600px;
        }
        #designModalClose {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #fff;
            border: none;
            border-radius: 50%;
            padding: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .design-option {
            display: inline-block;
            margin: 10px;
            position: relative;
        }
        .design-option input[type="radio"] {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
            width: 100px;
            height: 100px;
        }
        .design-option input[type="radio"]:checked + label {
            border: 2px solid #6DBFE5; /* Highlight color for selected design */
        }
        .design-option label {
            display: inline-block;
            position: relative;
            cursor: pointer;
             /* Default border color */
            border-radius: 8px;
            width: 100px;
            height: 100px;
            padding: 5px;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }
        .design-option img {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }
        #designImage {
            display: block;
            margin-top: 20px;
            max-width: 100px;
            height: auto;
        }
        /* Modal message styling */
        #messageModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        #messageContent {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            position: relative;
            width: 80%;
            max-width: 400px;
        }
        #messageOkButton {
            background: #6DBFE5;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
        }
        /* Alert modal styles */
        #alertModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        #alertContent {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            position: relative;
            width: 80%;
            max-width: 400px;
        }
        #alertOkButton {
           
        background-color: #f44336;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        /* Additional message styling */
        #additionalMessageContainer {
            display: none;
            margin-top: 20px;
            text-align: center;

            
        }
        #additionalMessage {
            width: 100%;
            max-width: 400px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
            margin-bottom: 10px;

            
        }
      
/* Container styling */
#uploadedImageContainer {
    width: 80%; /* Adjust the width as needed */
    max-width: 400px; /* Set a maximum width */
    margin: 0 auto; /* Center the container horizontally */
    padding: 20px; /* Add some padding */
    border-radius: 10px; /* Rounded corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Subtle shadow */
    background: #f9f9f9; /* Light background color */
    text-align: center; /* Center-align the image and button */
    
}

/* Wrapper for the image */
#imageWrapper {
    width: 100%;
    padding-top: 100%; /* Creates a square aspect ratio */
    position: relative; /* Allows absolute positioning of the image */
    overflow: hidden; /* Hides overflow */
    border-radius: 8px; /* Rounded corners */

    
}

/* Style for the image */
#uploadedImage {
    position: absolute; /* Position inside the wrapper */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensures the image covers the area without distortion */
    border: 2px solid #ddd; /* Border around the image */
    transition: transform 0.3s ease; /* Smooth transition effect */


}

/* Button styling */
#viewFullImageButton {
    margin-top: 10px; /* Space between image and button */
    padding: 10px 20px; /* Padding inside the button */
    border: none; /* Remove default border */
    border-radius: 5px; /* Rounded corners for the button */
    background-color: #007bff; /* Primary button color */
    color: white; /* Text color */
    cursor: pointer; /* Pointer cursor on hover */
    font-size: 16px; /* Font size */
    transition: background-color 0.3s ease; /* Smooth transition */
    z-index: 1;
}

/* Button hover effect */
#viewFullImageButton:hover {
    background-color: #0056b3; /* Darker shade on hover */
}

/* Modal styling */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 3000; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Scroll if needed */
    background-color: rgba(0, 0, 0, 0.8); /* Black background with opacity */
    display: flex; /* Flexbox for centering content */
    align-items: center; /* Vertically center the content */
    justify-content: center; /* Horizontally center the content */
}

/* Modal content (image) */
.modal-content {
    max-width: 90%; /* Ensure the image is responsive */
    max-height: 80%; /* Ensure the image is responsive */
    border-radius: 10px; /* Rounded corners */
    position: relative; /* Allows positioning of the close button */
}

/* Close button styling */
.close {
    position: absolute;
    top: 40px;
    right: 20px;
    color: #fff;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
    z-index: 2; /* Ensure it sits on top of other content */
    display: none; /* Hidden by default */
}

/* Show close button when modal is visible */
.modal.show .close {
    display: block; /* Show close button */
}

/* Close button hover effect */
.close:hover,
.close:focus {
    color: #bbb; /* Change color on hover */
    text-decoration: none;
    cursor: pointer;
}
.button-container1 {
            display: flex;
            gap: 10px;
}
.button-container {
            display: flex;
            gap: 10px;
                    

}


        .custom-file-upload {
            background-color: #FF54A7;
            color: white;
                                  
  border: 2px solid white; /* Add a border */
  border-radius: 8px; /* Rounded corners */
  padding: 10px 20px;
  cursor: pointer;
  margin-top: 10px;
  transition: background-color 0.3s, transform 0.3s; /* Smooth transitions */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Soft shadow */

    }
        
        

        .send-button {
            background-color: #89D358;
  color: white;
  border: 2px solid white; /* Add a border */
  border-radius: 8px; /* Rounded corners */
  padding: 10px 20px;
  cursor: pointer;
  margin-top: 10px;
  transition: background-color 0.3s, transform 0.3s; /* Smooth transitions */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Soft shadow */

      display: none;
      margin-top: 10px;
    }
/* Basic styling for the modal */
        #confirmationModal {
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 5;
        }
        #modalBox {
            background: white;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }
        #yesBtn{
       background-color: #f44336;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 5;
        }   
        #noBtn{
        background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);  
            z-index: 5;
        }
        #nextButton{
                    background: #6DBFE5;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
        }  
        .element {
  margin-bottom: 80px; /* Adjust the value as needed */
  margin-top: 1px;
  
}
.centerContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 10vh;
    margin-bottom: 50px;
  position: absolute; /* Position inside the wrapper */
    top: 0;
    left: 0;
    width: 100%;
    height: 80%;
    object-fit: cover; /* Ensures the image covers the area without distortion */

    transition: transform 0.3s ease; /* Smooth transition effect */
   

  
}
.background {
    width: 100%;
    height: 850px; /* Adjust height as needed or use a percentage for responsiveness */
    background-image: url('20240909_170737.jpg');
    background-size: cover; /* Ensures the image covers the container */
    background-position: center; /* Centers the image in the container */
    background-repeat: no-repeat; /* Prevents the image from repeating */
                    
}


</style>
</head>
<body>
<div class="background">
<div class="container2">

 <div class="menu-btn">
    <i class="fas fa-bars fa-2x"></i>
  </div>


    <!-- Nav -->

<nav class="main-nav">
  <!-- Navigation content -->

          <h1 alt="Microsoft" class="logo">
<i class="fas fa-arrow-left back-button" onclick="goBack()"></i>

<script>

function goBack() {
    window.history.back();
}

</script>
 Personalize</h1>
        <div id="navbar"></div>

</div>
        </nav>
 <br>        <br>        <br>  <br> 
         <!-- Design Selector Button -->


       <div class="element">
    <input type="file" id="fileInput" style="display: none;">
   
    <div id="loadingScreen">Uploading... 0%</div>
    <div id="secondLoadingScreen">Processing... Please wait</div>
   <div id="uploadedImageContainer">
    <div id="imageWrapper">
        <img id="uploadedImage" src="" alt="Uploaded Image">
    </div>
    <div class="button-container1">
    <button id="deleteBtn">Delete</button>
        <button id="viewFullImageButton">View Full Image</button>

 </div>

    
    <!-- Additional message container -->
    <div id="additionalMessageContainer">
    <p>Please enter a special name, message, or date to personalize the design.</p>
        <textarea id="additionalMessage" placeholder="Click here to write..."></textarea>

</div>      
    </div>


<div id="confirmationModal">
        <div id="modalBox">
            <p>Are you sure you want to delete this selection?</p>
            <button id="yesBtn">Yes</button>
            <button id="noBtn">No</button>
        </div>
    </div>
     <br>    


<script>

    </script>
<!-- Modal for viewing the full image -->
<div id="fullImageModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="fullImage">
    <div id="caption"></div>
</div>


    <!-- Design Modal -->
    <div id="designModal">
        <div id="designModalContent">
            <img id="designImage" src="" alt="Selected Design">
            <button id="designModalClose" aria-label="Close Design Selection">âœ–</button>
            <div class="design-option">
                <input type="radio" id="design1" name="design" value="design1" data-image="https://iili.io/dIPS7Jn.jpg" data-name="Design 1">
                <label for="design1">
                    <img src="https://iili.io/dIPS7Jn.jpg" alt="Design 1"> Design 1
                </label>
            </div>
            <div class="design-option">
                <input type="radio" id="design2" name="design" value="design2" data-image="https://iili.io/dTGlAKl.jpg" data-name="Design 2">
                <label for="design2">
                    <img src="https://iili.io/dTGlAKl.jpg" alt="Design 2"> Design 2
                </label>
            </div>
            <button id="nextButton" style="display: none;">Next</button>
        </div>
    </div>

    <!-- Message Modal -->
    <div id="messageModal">
        <div id="messageContent">
            <p>Please select a picture for the design you have chosen.</p>
            <button id="messageOkButton">OK</button>
        </div>
    </div>

    <!-- Alert Modal -->
    <div id="alertModal">
        <div id="alertContent">
            <p>Only one picture is allowed to be uploaded. Please delete the existing picture to upload a new one.</p>
            <button id="alertOkButton">OK</button>

        </div>
    </div>

  <div class="button-container">
    <div class="centerContainer">
        <button id="selectDesignButton" class="custom-file-upload">Choose Design</button>
                                <button id="sendButton" class="send-button">submit                <i class="fas fa-share"></i></button>
</div>      </div>  
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-analytics.js";
import { getStorage, ref, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-storage.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyC9FWOwTpgSGUYhnjG4maMSt7SSjO9hH-8",
    authDomain: "myimages-de8ce.firebaseapp.com",
    projectId: "myimages-de8ce",
    storageBucket: "myimages-de8ce.appspot.com",
    messagingSenderId: "501272670548",
    appId: "1:501272670548:web:aa1d7fa6b791514a1998c1",
    measurementId: "G-D24XGXB8DK"
};

const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const storage = getStorage(app);
const db = getFirestore(app);

const pageIdentifier = '46';
const localStoragePrefix = `page${pageIdentifier}-`;

const fileInput = document.getElementById('fileInput');
const deleteBtn = document.getElementById('deleteBtn');
const loadingScreen = document.getElementById('loadingScreen');
const secondLoadingScreen = document.getElementById('secondLoadingScreen');
const uploadedImageContainer = document.getElementById('uploadedImageContainer');
const uploadedImage = document.getElementById('uploadedImage');
const sendButton = document.getElementById('sendButton');
const selectDesignButton = document.getElementById('selectDesignButton');
const designModal = document.getElementById('designModal');
const designModalClose = document.getElementById('designModalClose');
const designImage = document.getElementById('designImage');
const nextButton = document.getElementById('nextButton');
const messageModal = document.getElementById('messageModal');
const messageOkButton = document.getElementById('messageOkButton');
const alertModal = document.getElementById('alertModal');
const alertOkButton = document.getElementById('alertOkButton');
const additionalMessageContainer = document.getElementById('additionalMessageContainer');
const additionalMessage = document.getElementById('additionalMessage');
let selectedDesign = null;
let uploadedImageURL = '';

const phoneNumber = '0659860276'; // Your WhatsApp number

// Load saved state from localStorage
document.addEventListener('DOMContentLoaded', async () => {
    const savedDesign = localStorage.getItem(`${localStoragePrefix}selectedDesign`);
    const savedImageURL = localStorage.getItem(`${localStoragePrefix}uploadedImageURL`);
    const savedMessage = localStorage.getItem(`${localStoragePrefix}additionalMessage`);

    if (savedDesign) {
        selectedDesign = savedDesign;
        document.querySelector(`input[name="design"][data-name="${savedDesign}"]`).checked = true;
        designImage.src = document.querySelector(`input[name="design"][data-name="${savedDesign}"]`).dataset.image;
        selectDesignButton.textContent = `Selected Design: ${selectedDesign}`;
        checkDesignSelection(); // Ensure Next button visibility is correct
    }

    if (savedImageURL) {
        uploadedImage.src = savedImageURL;
        uploadedImageContainer.style.display = 'block';
        deleteBtn.style.display = 'block';
        sendButton.style.display = 'block';
        additionalMessageContainer.style.display = 'block';
        additionalMessage.value = savedMessage;
        uploadedImageURL = savedImageURL;
    }
});

// Function to check design selection
function checkDesignSelection() {
    if (selectedDesign) {
        nextButton.style.display = 'block';
    } else {
        nextButton.style.display = 'none';
    }
}

// Show the design selection modal
selectDesignButton.addEventListener('click', () => {
    designModal.style.display = 'flex';
});

// Close the design modal
designModalClose.addEventListener('click', () => {
    designModal.style.display = 'none';
});

// Handle design selection
designModal.addEventListener('change', (event) => {
    if (event.target.name === 'design') {
        const option = event.target;
        if (option.checked) {
            selectedDesign = option.dataset.name;
            designImage.src = option.dataset.image;
            selectDesignButton.textContent = `Selected Design: ${selectedDesign}`;
            localStorage.setItem(`${localStoragePrefix}selectedDesign`, selectedDesign); // Save to localStorage
        } else {
            if (selectedDesign === option.dataset.name) {
                selectedDesign = null;
                designImage.src = '';
                selectDesignButton.textContent = 'Choose Design';
                localStorage.removeItem(`${localStoragePrefix}selectedDesign`); // Remove from localStorage
            }
        }
        checkDesignSelection(); // Update visibility of Next button
    }
});

// Show message modal when "Next" button is clicked
nextButton.addEventListener('click', () => {
    if (selectedDesign) {
        designModal.style.display = 'none';
        messageModal.style.display = 'flex';
    } else {
        alert('Please select a design before proceeding.');
    }
});

// Close the message modal and show file input
messageOkButton.addEventListener('click', () => {
    messageModal.style.display = 'none';
    fileInput.click();
});

// Handle file input change
fileInput.addEventListener('change', async (event) => {
    const file = event.target.files[0];
    if (file) {
        // Resize the image if it's larger than 2MB
        const resizedFile = await resizeImage(file);

        // If an image is already uploaded, show the alert modal
        if (uploadedImageContainer.style.display === 'block') {
            alertModal.style.display = 'flex';
            return;
        }

        // Display the loading screen while uploading
        loadingScreen.style.display = 'flex';

        const storageRef = ref(storage, `images/${resizedFile.name}`);
        const uploadTask = uploadBytesResumable(storageRef, resizedFile);

        uploadTask.on('state_changed', (snapshot) => {
            const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
            loadingScreen.textContent = `Uploading... ${Math.round(progress)}%`;
        }, (error) => {
            alert('Error uploading file');
        }, async () => {
            // Hide loading screen and show secondLoadingScreen for processing
            loadingScreen.style.display = 'none';
            secondLoadingScreen.style.display = 'flex';

            uploadedImageURL = await getDownloadURL(uploadTask.snapshot.ref);
            uploadedImage.src = uploadedImageURL;
            uploadedImageContainer.style.display = 'block';
            deleteBtn.style.display = 'block';
            sendButton.style.display = 'block';
            additionalMessageContainer.style.display = 'block';
            localStorage.setItem(`${localStoragePrefix}uploadedImageURL`, uploadedImageURL); // Save to localStorage
            localStorage.setItem(`${localStoragePrefix}additionalMessage`, additionalMessage.value); // Save the additional message

            // Hide the secondLoadingScreen after 5 seconds
            setTimeout(() => {
                secondLoadingScreen.style.display = 'none';
            }, 5000); // 5000 milliseconds = 5 seconds
        });
    }
});

// Send button functionality
sendButton.addEventListener('click', () => {
    const message = additionalMessage.value.trim() || 'none'; // Default to 'none' if textarea is empty
    if (uploadedImageURL) {
        // Encode the message for URL
        const encodedMessage = encodeURIComponent(`Here is the image you requested:\n\nImage URL: ${uploadedImageURL}\n\nMessage: ${message}\n\nSelected Design: ${selectedDesign || 'No design selected'}`);
        
        // Construct the WhatsApp URL
        const whatsappUrl = `https://api.whatsapp.com/send?phone=${phoneNumber}&text=${encodedMessage}`;
        
        // Open WhatsApp
        window.open(whatsappUrl, '_blank');
    } else {
        alert('Please upload an image before sending.');
    }
});


    const confirmationModal = document.getElementById('confirmationModal');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');

    deleteBtn.addEventListener('click', () => {
        confirmationModal.style.display = 'flex';
    });

    yesBtn.addEventListener('click', () => {
        // Perform the deletion
        uploadedImage.src = '';
        uploadedImageContainer.style.display = 'none';
        deleteBtn.style.display = 'none';
        sendButton.style.display = 'none';
        additionalMessageContainer.style.display = 'none'; // Hide the additional message input

        // Reset the selected design
        selectedDesign = null;
        designImage.src = '';
        selectDesignButton.textContent = 'Select Design';
        checkDesignSelection(); // Hide the next button

        // Clear localStorage
        localStorage.removeItem(`${localStoragePrefix}uploadedImageURL`);
        localStorage.removeItem(`${localStoragePrefix}selectedDesign`);

        // Hide the modal and refresh the page
        confirmationModal.style.display = 'none';
        location.reload();
    });

    noBtn.addEventListener('click', () => {
        confirmationModal.style.display = 'none'; // Hide the modal
    });

// Cancel delete action
alertModal.addEventListener('click', (event) => {
    if (event.target === alertModal) {
        alertModal.style.display = 'none';
    }
});

// Function to resize image if it's larger than 2MB
async function resizeImage(file) {
    const maxSize = 2 * 1024 * 1024; // 2MB in bytes
    if (file.size <= maxSize) {
        return file;
    }

    return new Promise((resolve) => {
        const img = document.createElement('img');
        const reader = new FileReader();

        reader.onload = (event) => {
            img.src = event.target.result;
        };

        img.onload = () => {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            let width = img.width;
            let height = img.height;

            if (file.size > maxSize) {
                const scale = Math.sqrt(file.size / maxSize);
                width /= scale;
                height /= scale;
            }

            canvas.width = width;
            canvas.height = height;
            ctx.drawImage(img, 0, 0, width, height);

            canvas.toBlob((blob) => {
                const resizedFile = new File([blob], file.name, { type: file.type });
                resolve(resizedFile);
            }, file.type);
        };

        reader.readAsDataURL(file);
    });
}

document.addEventListener('DOMContentLoaded', function() {
        const alertModal = document.getElementById('alertModal');
        const alertOkButton = document.getElementById('alertOkButton');
        
        // Function to show the modal
        function showAlertModal() {
            alertModal.style.display = 'flex';
        }
        
        // Function to hide the modal
        function hideAlertModal() {
            alertModal.style.display = 'none';
        }
        
        // Event listener for the OK button
        alertOkButton.addEventListener('click', function() {
            hideAlertModal();
        });

        // Optionally, you can call showAlertModal() when you need to display the modal
        // showAlertModal(); // Uncomment this line to display the modal when the page loads
    });


// Get elements
    const viewFullImageButton = document.getElementById('viewFullImageButton');
    const fullImageModal = document.getElementById('fullImageModal');
    const modalImage = document.getElementById('fullImage');
    const closeModal = document.getElementsByClassName('close')[0];

    // Open the modal
    viewFullImageButton.onclick = function() {
        fullImageModal.style.display = "flex"; // Use flex to show modal
        fullImageModal.classList.add('show'); // Add class to show close button
        modalImage.src = document.getElementById('uploadedImage').src; // Set modal image source
    }

    // Close the modal
    closeModal.onclick = function() {
        fullImageModal.style.display = "none";
        fullImageModal.classList.remove('show'); // Remove class to hide close button
    }

    // Close the modal when clicking outside of the image
    window.onclick = function(event) {
        if (event.target === fullImageModal) {
            fullImageModal.style.display = "none";
            fullImageModal.classList.remove('show'); // Remove class to hide close button
        }
    }

    // Ensure modal is hidden on page load
    document.addEventListener('DOMContentLoaded', function() {
        fullImageModal.style.display = "none"; // Ensure modal is hidden when page loads
    });
    document.getElementById('click', function() {
            const images = document.querySelectorAll('.design-option img');
            if (images.length > 0) {
                images.forEach(img => img.remove()); // Remove all images

                // Uncheck all radio buttons
                const radios = document.querySelectorAll('.design-option input[type="radio"]');
                radios.forEach(radio => radio.checked = false);
            }
        });

        // Optional: Reset the page when reloaded
        window.addEventListener('beforeunload', function() {
            const radios = document.querySelectorAll('.design-option input[type="radio"]');
            radios.forEach(radio => radio.checked = false);
        });
</script>
<script>
  window.onload = function() {
    // On page load, check if the sessionStorage flag is set
    if (!sessionStorage.getItem('yesClicked')) {
      // Mark the session as starting
      sessionStorage.setItem('yesClicked', 'false');

      // Check if it's the user's first visit
      if (!localStorage.getItem('visited')) {
        // Mark the user as having visited
        localStorage.setItem('visited', 'true');
        
        // Simulate the first click on the "Choose Design" button
        document.getElementById('selectDesignButton').click();
      }
    }

    // Set the button click behavior based on sessionStorage
    document.getElementById('yesBtn').addEventListener('click', function() {
      // Update sessionStorage to reflect that the "Yes" button was clicked
      sessionStorage.setItem('yesClicked', 'true');
      
      // Simulate the second click on the "Choose Design" button
      document.getElementById('selectDesignButton').click();
    });

    // Handle the second click scenario on page load
    if (sessionStorage.getItem('yesClicked') === 'true') {
      document.getElementById('selectDesignButton').click();
    }
  };
</script>
<body>
  <!-- Page content -->
  <script>

    document.addEventListener('DOMContentLoaded', function() {
      var button = document.getElementById('selectDesignButton');
      if (button) {
        button.click();
      }
    });
  </script>


</div></div></div></div>

   <div id="Whatsapp_button"></div>
           <div id="footer"></div>
  </div>  </div>  </div>  </div>
 <script src="js/main.js"></script>
 
 <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MNW5B4W9"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
</body>
</html>
